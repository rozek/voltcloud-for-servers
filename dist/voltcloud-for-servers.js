!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var r=e.VoltCloud,n=e.VoltCloud={};t(n),n.noConflict=function(){return e.VoltCloud=r,n}}())}(this,(function(e){"use strict";function t(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function i(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,i)}u((n=n.apply(e,t||[])).next())}))}function r(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function n(e){var t=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);if(null==t)throw new Error(e);var r=new Error(t[2]);throw r.name=t[1],r}function a(e){return"string"==typeof e||e instanceof String}var o=/^\s*$/;function s(e){return("string"==typeof e||e instanceof String)&&!o.test(e.valueOf())}function i(e){return null!=e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}var u=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/;function c(e){return function(e,t){return("string"==typeof e||e instanceof String)&&t.test(e.valueOf())}(e,u)}var l=!1,d=!0;function p(e,t,r){var a=function(a,o){return function(e,t,r,a,o){if(null==t){if(a)return t;n("MissingArgument: no "+b(e)+" given")}else if(r(t))switch(!0){case t instanceof Boolean:case t instanceof Number:case t instanceof String:return t.valueOf();default:return t}else n("InvalidArgument: the given "+b(e)+" is no valid "+b(o))}(a,o,e,t,r)},o=e.name;return null!=o&&/^ValueIs/.test(o)?function(e,t){null==e&&n("MissingArgument: no function given");"function"!=typeof e&&n("InvalidArgument: the given 1st Argument is not a JavaScript function");null==t&&n("MissingArgument: no desired name given");"string"==typeof t||t instanceof String||n("InvalidArgument: the given desired name is not a string");if(e.name===t)return e;try{if(Object.defineProperty(e,"name",{value:t}),e.name===t)return e}catch(e){}return new Function("originalFunction","return function "+t+" () {return originalFunction.apply(this,Array.prototype.slice.apply(arguments))}")(e)}(a,o.replace(/^ValueIs/,t?"allow":"expect")):a}var f=p(s,l,"non-empty literal string"),h=p(i,l,'"plain" JavaScript object'),v=p(c,d,"valid EMail address"),g=p(c,l,"valid EMail address");function b(e){return e.replace(/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?/g,(function(e){return"\\"===e?"\\\\":e})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}function w(e,t){return void 0===t&&(t='"'),t+function(e,t){return void 0===t&&(t='"'),e.replace("'"===t?/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|'/g:/\\x[0-9a-zA-Z]{2}|\\u[0-9a-zA-Z]{4}|\\[0bfnrtv'"\\\/]?|"/g,(function(e){switch(e){case"'":return"\\'";case'"':return'\\"';case"\\":return"\\\\";default:return e}})).replace(/[\x00-\x1f\x7f-\x9f]/g,(function(e){switch(e){case"\0":return"\\0";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v";default:var t=e.charCodeAt(0).toString(16);return"\\x"+"00".slice(t.length)+t}}))}(e,t)+t}var y,m,T,S,_,x,C,V,P=require("https"),A=1048574,k="RpYCMN";function E(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:X(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/app")];case 2:return e=r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2,e||[]]}}))}))}function z(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/app/{{application_id}}/users")];case 2:return e=r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2,e||[]]}}))}))}function O(e){return a(e)&&e.length>=8&&/[0-9]/.test(e)&&e.toLowerCase()!==e}var H=p(O,d,"valid VoltCloud password"),N=H,q=p(O,l,"valid VoltCloud password"),R=q;function I(e){return a(e)&&e.length>=1&&/^[0-9a-z][-0-9a-z]*$/.test(e)}var j=p(I,d,"valid VoltCloud application name"),U=j,F=p(I,l,"valid VoltCloud application name"),L=F;function Z(e){return s(e)&&e.length<=255}var $=p(Z,d,"suitable VoltCloud storage key"),B=$,G=p(Z,l,"suitable VoltCloud storage key"),D=G;function M(e){return s(e)&&e.length<=A}var K=p(M,d,"suitable VoltCloud storage value"),J=K,W=p(M,l,"suitable VoltCloud storage value"),Y=W;function Q(){null==_&&n("InvalidState: please focus on a specific VoltCloud application first")}function X(){null==y&&n("InvalidState: please focus on a specific VoltCloud developer first")}function ee(){null==S&&n("InvalidState: please focus on a specific VoltCloud application customer first")}function te(e,o){return t(this,void 0,void 0,(function(){var t,s;return r(this,(function(r){switch(r.label){case 0:y=void 0,m=void 0,T=void 0,S=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("public","POST","{{dashboard_url}}/api/auth/login",{grant_type:"password",username:e,password:o,scope:k})];case 2:return t=r.sent(),[3,4];case 3:switch((s=r.sent()).HTTPStatus){case 401:n("LoginFailed: developer could not be logged in");case 402:n("NoSuchUser: the given developer is unknown");default:throw s}return[3,4];case 4:return null!=t&&"bearer"===t.token_type&&a(t.access_token)&&a(t.user_id)?(y=t.user_id,m=e,T=o,S=t.access_token):n("InternalError: could not analyze response for login request"),[2]}}))}))}function re(e,a,o,i,u,c){return void 0===c&&(c=!0),t(this,void 0,void 0,(function(){var t,l,d,p;return r(this,(function(r){var f;return t=Object.assign({},i||{},{dashboard_id:k,dashboard_url:"https://dashboard.voltcloud.io",application_id:_,application_url:x,customer_id:C}),f=t,l=o.replace(ne,(function(e,t){if(f.hasOwnProperty(t))return f[t];n("VariableNotFound: the given placeholder text refers to an undefined variable called "+w(t))})),"GET"===a&&(l+=(l.indexOf("?")<0?"?":"&")+"_="+Date.now()),d={method:a,headers:{},timeout:3e4},"private"===e&&(d.headers.Authorization="Bearer "+S),null!=u&&(u instanceof Blob||(p=JSON.stringify(u),d.headers["Content-Type"]="application/json",d.headers["Content-Length"]=p.length)),[2,new Promise((function(t,r){var n=P.request(l,d,(function(l){l.on("error",(function(e){r(ae("RequestFailed: VoltCloud request failed (error code = "+w(e.code)+")"))}));var d="";l.on("data",(function(e){return d+=e})),l.on("end",(function(){var p=l.statusCode,f=l.headers["content-type"]||"";switch(!0){case p>=200&&p<300:switch(!0){case f.startsWith("application/json"):return t(JSON.parse(d));default:return r(ae("RequestFailed: unexpected response content type "+w(f||"(missing)"),{ContentType:f,HTTPResponse:d}))}case 401===p:return c?te(m,T).then((function(){re(e,a,o,i,u,!1).then((function(e){return t(e)})).catch((function(e){return r(e)}))})).catch((function(e){return r(e)})):r(ae("AuthorizationFailure: VoltCloud request could not be authorized"));default:if(f.startsWith("application/json"))try{var h=JSON.parse(n.responseText);if(s(h.type)&&s(h.message))return r(ae(h.type+": "+h.message,{HTTPStatus:p,HTTPResponse:d}))}catch(e){}return r(ae("RequestFailed: VoltCloud request failed",{HTTPStatus:p,HTTPResponse:d}))}}))}));n.on("aborted",(function(){r(ae("RequestAborted: VoltCloud request has been aborted"))})),n.on("timeout",(function(){r(ae("RequestTimedout: VoltCloud request timed out"))})),n.on("error",(function(e){r(ae("RequestFailed: VoltCloud request failed before actually sending data (error code = "+w(e.code)+")"))})),null!=p&&n.write(p),n.end()}))]}))}))}var ne=/\{\{([a-z0-9_-]+)\}\}/gi;function ae(e,t){var r,n=/^([$a-zA-Z][$a-zA-Z0-9]*):\s*(\S.+)\s*$/.exec(e);return null==n?r=new Error(e):(r=new Error(n[2])).name=n[1],null!=t&&Object.assign(r,t),r}e.ApplicationRecord=function(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/app/{{application_id}}")];case 2:return e=r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2,e]}}))}))},e.ApplicationRecords=E,e.ApplicationStorage=function(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/storage/{{application_id}}")];case 2:return e=r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2,e||{}]}}))}))},e.ApplicationStorageEntry=function(e){return t(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:G("VoltCloud application storage key",e),X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/storage/{{application_id}}/key/{{application_storage_key}}",{application_storage_key:e})];case 2:return t=r.sent(),[3,4];case 3:throw(n=r.sent()).HTTPStatus,n;case 4:return[2,t]}}))}))},e.CustomerRecords=z,e.CustomerStorage=function(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:X(),Q(),ee(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/storage/{{customer_id}}")];case 2:return e=r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2,e||{}]}}))}))},e.CustomerStorageEntry=function(e){return t(this,void 0,void 0,(function(){var t,n;return r(this,(function(r){switch(r.label){case 0:G("VoltCloud customer storage key",e),X(),Q(),ee(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","GET","{{dashboard_url}}/api/storage/{{customer_id}}/key/{{customer_storage_key}}",{customer_storage_key:e})];case 2:return t=r.sent(),[3,4];case 3:throw(n=r.sent()).HTTPStatus,n;case 4:return[2,t]}}))}))},e.ValueIsApplicationName=I,e.ValueIsPassword=O,e.ValueIsStorageKey=Z,e.ValueIsStorageValue=M,e.actOnBehalfOfDeveloper=function(e,n){return t(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return g("VoltCloud developer email address",e),q("VoltCloud developer password",n),[4,te(e,n)];case 1:return t.sent(),[2]}}))}))},e.allowApplicationName=j,e.allowPassword=H,e.allowStorageKey=$,e.allowStorageValue=K,e.allowedApplicationName=U,e.allowedPassword=N,e.allowedStorageKey=B,e.allowedStorageValue=J,e.changeApplicationNameTo=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:F("VoltCloud application name",e),X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","PUT","{{dashboard_url}}/api/app/{{application_id}}",{subdomain:e})];case 2:return r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2]}}))}))},e.clearApplicationStorage=function(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:X(),Q(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,re("private","DELETE","{{application_url}}/api/storage/{{application_id}}")];case 2:return t.sent(),[3,4];case 3:throw(e=t.sent()).HTTPStatus,e;case 4:return[2]}}))}))},e.clearCustomerStorage=function(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:X(),Q(),ee(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,re("private","DELETE","{{application_url}}/api/storage/{{customer_id}}")];case 2:return t.sent(),[3,4];case 3:throw(e=t.sent()).HTTPStatus,e;case 4:return[2]}}))}))},e.confirmCustomerUsing=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:f("VoltCloud customer confirmation token",e),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("public","POST","{{application_url}}/api/auth/confirm",null,{token:e})];case 2:return r.sent(),[3,4];case 3:switch((t=r.sent()).HTTPStatus){case 401:n("BadToken: the given token can not be recognized");default:throw t}return[3,4];case 4:return[2]}}))}))},e.deleteApplication=function(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:X(),Q(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,re("private","DELETE","{{dashboard_url}}/api/app/{{application_id}}")];case 2:return t.sent(),[3,4];case 3:throw(e=t.sent()).HTTPStatus,e;case 4:return[2]}}))}))},e.deleteApplicationStorageEntry=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:G("VoltCloud application storage key",e),X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","DELETE","{{dashboard_url}}/api/storage/{{application_id}}/key/{{application_storage_key}}",{application_storage_key:e})];case 2:return r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2]}}))}))},e.deleteCustomer=function(){return t(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:X(),Q(),ee(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,re("private","DELETE","{{dashboard_url}}/api/user/{{customer_id}}")];case 2:return t.sent(),[3,4];case 3:throw(e=t.sent()).HTTPStatus,e;case 4:return[2]}}))}))},e.deleteCustomerStorageEntry=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:G("VoltCloud customer storage key",e),X(),Q(),ee(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","DELETE","{{dashboard_url}}/api/storage/{{customer_id}}/key/{{customer_storage_key}}",{customer_storage_key:e})];case 2:return r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2]}}))}))},e.expectApplicationName=F,e.expectPassword=q,e.expectStorageKey=G,e.expectStorageValue=W,e.expectedApplicationName=L,e.expectedPassword=R,e.expectedStorageKey=D,e.expectedStorageValue=Y,e.focusOnApplication=function(e){return t(this,void 0,void 0,(function(){var t,a,o,s;return r(this,(function(r){switch(r.label){case 0:return f("VoltCloud application id",e),_=void 0,x=void 0,[4,E()];case 1:for(t=r.sent(),a=0,o=t.length;a<o;a++)if((s=t[a]).id===e)return _=e,x=s.url,[2];return n("NoSuchApplication: no application with id "+w(e)+" found for the currently focused developer"),[2]}}))}))},e.focusOnApplicationCalled=function(e){return t(this,void 0,void 0,(function(){var t,a,o,s;return r(this,(function(r){switch(r.label){case 0:return F("VoltCloud application name",e),_=void 0,x=void 0,[4,E()];case 1:for(t=r.sent(),a=0,o=t.length;a<o;a++)if((s=t[a]).subdomain===e)return _=s.id,x=s.url,[2];return n("NoSuchApplication: no application called "+w(e)+" found for the currently focused developer"),[2]}}))}))},e.focusOnCustomer=function(e){return t(this,void 0,void 0,(function(){var t,a,o,s;return r(this,(function(r){switch(r.label){case 0:return f("VoltCloud customer id",e),C=void 0,V=void 0,[4,z()];case 1:for(t=r.sent(),a=0,o=t.length;a<o;a++)if((s=t[a]).id===e)return C=e,V=s.email,[2];return n("NoSuchCustomer: no customer with id "+w(e)+" found for the currently focused application"),[2]}}))}))},e.focusOnCustomerWithAddress=function(e){return t(this,void 0,void 0,(function(){var t,a,o,s;return r(this,(function(r){switch(r.label){case 0:return g("VoltCloud customer email address",e),C=void 0,V=void 0,[4,z()];case 1:for(t=r.sent(),a=0,o=t.length;a<o;a++)if((s=t[a]).email===e)return C=s.id,V=e,[2];return n("NoSuchCustomer: no customer with email address "+w(e)+" found for the currently focused application"),[2]}}))}))},e.focusOnNewApplication=function(){return t(this,void 0,void 0,(function(){var e,t;return r(this,(function(r){switch(r.label){case 0:X(),_=void 0,x=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","POST","{{dashboard_url}}/api/app")];case 2:return e=r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return _=e.id,x=e.url,[2]}}))}))},e.focusOnNewCustomer=function(e,o){return t(this,void 0,void 0,(function(){var t,s;return r(this,(function(r){switch(r.label){case 0:g("VoltCloud customer email address",e),q("VoltCloud customer password",o),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("public","POST","{{application_url}}/api/auth/register",null,{email:e,password:o,confirmation:o,scope:_})];case 2:return t=r.sent(),[3,4];case 3:switch((s=r.sent()).HTTPStatus){case 404:n("NoSuchApplication: the currently focused application could not be found");case 409:n("UserExists: the given email address is already used");case 422:n("BadPassword: the given password does not meet the VoltCloud requirements");default:throw s}return[3,4];case 4:return null!=t&&a(t.id)?(C=t.id,V=e):n("InternalError: could not analyze response for registration request"),[2]}}))}))},e.maxStorageKeyLength=255,e.maxStorageValueLength=A,e.resendConfirmationEMailToCustomer=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:v("VoltCloud customer email address",e),Q(),null==e&&(ee(),e=V),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("public","POST","{{application_url}}/api/auth/resend",null,{email:e,scope:_})];case 2:return r.sent(),[3,4];case 3:switch((t=r.sent()).HTTPStatus){case 402:n("NoSuchUser: the given user is unknown to the currently focused application");case 404:n("NoSuchApplication: the currently focused application could not be found");case 501:n("Unsupported: the currently focused application does not support customer confirmations");default:throw t}return[3,4];case 4:return[2]}}))}))},e.resetCustomerPasswordUsing=function(e,a){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:f("VoltCloud password reset token",e),q("VoltCloud customer password",a),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("public","POST","{{application_url}}/api/auth/reset",null,{token:e,password:a,confirmation:a})];case 2:return r.sent(),[3,4];case 3:switch((t=r.sent()).HTTPStatus){case 401:n("BadToken: the given token can not be recognized");case 422:n("BadPassword: the given password does not meet the VoltCloud requirements");default:throw t}return[3,4];case 4:return[2]}}))}))},e.setApplicationStorageEntryTo=function(e,n){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:G("VoltCloud application storage key",e),W("VoltCloud application storage value",n),X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","PUT","{{dashboard_url}}/api/storage/{{application_id}}/key/{{application_storage_key}}",{application_storage_key:e},n)];case 2:return r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2]}}))}))},e.setCustomerStorageEntryTo=function(e,n){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:G("VoltCloud customer storage key",e),W("VoltCloud customer storage value",n),X(),Q(),ee(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","PUT","{{dashboard_url}}/api/storage/{{customer_id}}/key/{{customer_storage_key}}",{customer_storage_key:e},n)];case 2:return r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2]}}))}))},e.startPasswordResetForCustomer=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:v("VoltCloud customer email address",e),Q(),null==e&&(ee(),e=V),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("public","POST","{{application_url}}/api/auth/forgot",null,{email:e,scope:_})];case 2:return r.sent(),[3,4];case 3:switch((t=r.sent()).HTTPStatus){case 402:n("NoSuchUser: the given user is unknown to the currently focused application");case 404:n("NoSuchApplication: the currently focused application could not be found");case 501:n("Unsupported: the currently focused application does not support password resets");default:throw t}return[3,4];case 4:return[2]}}))}))},e.updateApplicationRecordBy=function(e){return t(this,void 0,void 0,(function(){var t;return r(this,(function(r){switch(r.label){case 0:h("VoltCloud application settings",e),X(),Q(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,re("private","PUT","{{dashboard_url}}/api/app/{{application_id}}",e)];case 2:return r.sent(),[3,4];case 3:throw(t=r.sent()).HTTPStatus,t;case 4:return[2]}}))}))},e.uploadToApplication=function(e){return t(this,void 0,void 0,(function(){return r(this,(function(e){return X(),Q(),[2]}))}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=voltcloud-for-servers.js.map
